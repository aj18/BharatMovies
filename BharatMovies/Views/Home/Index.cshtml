@using  System.Web.Script.Serialization;
@using System.Configuration;
@{
    string returnUrl = ConfigurationManager.AppSettings.Get("returnUrl");
    string returnUrl3 = ConfigurationManager.AppSettings.Get("returnUrl3");
    ViewBag.Title = ConfigurationManager.AppSettings.Get("title");
    ViewBag.Description = ConfigurationManager.AppSettings.Get("description");
    ViewBag.Keyword = ConfigurationManager.AppSettings.Get("keyword");
    JavaScriptSerializer serializer = new JavaScriptSerializer();
    dynamic templatedata = serializer.Deserialize<object>(ViewBag.data);
}
<style>
    .container {
        margin: 0 auto;
        max-width: 1286px !important;
        width: 95%;
    }

    ul {
        MARGIN-TOP: 20PX;
    }

    .bg-image {
        background-repeat: no-repeat !important;
        background-size: cover !important;
        width: 100%;
        height: 100%;
    }

    .social-main-title a {
        color: #ffffff !important;
    }

    .lh-small {
        overflow: hidden;
        width: 212px !important;
        height: 299px;
        float: left;
        padding: 0 0rem !important;
        margin: 0px 0.3rem 0.3rem 0px !important;
    }
</style>
@foreach (var item in templatedata["layout"])
{
    if (item["id"] == "missionary" || item["id"] == "masonry")
    {
        @Html.Action("Masonry", "PartialView", new { item = item })
    }
    else if (item["id"] == "mixnmatch")
    {
        @Html.Action("Mixnmatch", "PartialView", new { item = item })
    }
    else if (item["id"] == "smallcard")
    {
        @Html.Action("Smallcard", "PartialView", new { item = item })
    }

    else if (item["id"] == "newspanel")
    {
        @Html.Action("Newspanel", "PartialView", new { item = item })
    }

    else if (item["id"] == "smallverticals")
    {
        @Html.Action("Smallverticals", "PartialView", new { item = item })
    }
    else if (item["id"] == "eventCollection")
    {
        @Html.Action("EventCollection", "PartialView", new { item = item })
    }
    else if (item["id"] == "mediumCollection")
    {
        @Html.Action("MediumCollection", "PartialView", new { item = item })
    }
    else if (item["id"] == "largeCollection")
    {
        @Html.Action("LargeCollection", "PartialView", new { item = item })
    }
    else if (item["id"] == "storymixnmatch")
    {
        @Html.Action("StorymixNmatch", "PartialView", new { item = item })
    }
    else if (item["id"] == "storycollection")
    {
        @Html.Action("StoryCollection", "PartialView", new { item = item })
    }
    else if (item["id"] == "storycollectionmix")
    {
        @Html.Action("StoryCollectionMix", "PartialView", new { item = item })
    }
}